\documentclass[./main.tex]{subfiles}

\begin{document}

\section{Pullback}

\begin{theorem}
  Suppose we have two joined commuting squares like:
  % https://q.uiver.app/#q=WzAsNixbMCwwLCJMIl0sWzIsMCwiTSJdLFs0LDAsIk4iXSxbMCwyLCJYIl0sWzIsMiwiWSJdLFs0LDIsIloiXSxbMCwzLCJsIl0sWzEsNCwibSJdLFsyLDUsIm4iXSxbMCwxLCJmIl0sWzEsMiwiZyJdLFszLDQsImgiXSxbNCw1LCJqIl1d
  \[\begin{tikzcd}
    L && M && N \\
    \\
    X && Y && Z
    \arrow["f", from=1-1, to=1-3]
    \arrow["l", from=1-1, to=3-1]
    \arrow["g", from=1-3, to=1-5]
    \arrow["m", from=1-3, to=3-3]
    \arrow["n", from=1-5, to=3-5]
    \arrow["h", from=3-1, to=3-3]
    \arrow["j", from=3-3, to=3-5]
  \end{tikzcd}\]

  Then:
  \begin{enumerate}
    \item The outer rectangle is a pullback square if two inner squares are pullback squares.
    \item The inner-left square is a pullback square if the ouer rectangle and the inner-right square are pullback squares.
  \end{enumerate}
\end{theorem}
\begin{proof}
  ~
  \begin{enumerate}
    \item For any $(A, a, b)$ such that $j \circ h \circ a = n \circ b$, then
          there is a unique $u : A \rightarrow M$ such that $h \circ a = m \circ u$
          and $b = g \circ u$.
          Then there is a unique $v : A \rightarrow L$ such that
          $l \circ a = v$ and $f \circ v = u$, which makes $(A, a, b)$ against to the outer rectangle
          commutes.

          % https://q.uiver.app/#q=WzAsNyxbMiwyLCJMIl0sWzQsMiwiTSJdLFs2LDIsIk4iXSxbMiw0LCJYIl0sWzQsNCwiWSJdLFs2LDQsIloiXSxbMCwwLCJBIl0sWzAsMywibCJdLFsxLDQsIm0iXSxbMiw1LCJuIl0sWzAsMSwiZiJdLFsxLDIsImciXSxbMyw0LCJoIl0sWzQsNSwiaiJdLFs2LDMsImEiLDAseyJjdXJ2ZSI6M31dLFs2LDIsImIiLDAseyJjdXJ2ZSI6LTR9XSxbNiwxLCJ1IiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzYsMCwidiIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dXQ==
          \[\begin{tikzcd}
            A \\
            \\
            && L && M && N \\
            \\
            && X && Y && Z
            \arrow["v", dashed, from=1-1, to=3-3]
            \arrow["u", dashed, from=1-1, to=3-5]
            \arrow["b", curve={height=-24pt}, from=1-1, to=3-7]
            \arrow["a", curve={height=18pt}, from=1-1, to=5-3]
            \arrow["f", from=3-3, to=3-5]
            \arrow["l", from=3-3, to=5-3]
            \arrow["g", from=3-5, to=3-7]
            \arrow["m", from=3-5, to=5-5]
            \arrow["n", from=3-7, to=5-7]
            \arrow["h", from=5-3, to=5-5]
            \arrow["j", from=5-5, to=5-7]
          \end{tikzcd}\]
    \item For any $(A, a, b)$ such that $h \circ a = m \circ b$, consider the
          inner-right pullback, then we have a unique $u : A \rightarrow M$
          such that the diagram commutes:
          % https://q.uiver.app/#q=WzAsNyxbNCwyLCJNIl0sWzYsMiwiTiJdLFsyLDQsIlgiXSxbNCw0LCJZIl0sWzYsNCwiWiJdLFswLDAsIkEiXSxbMiwyLCJMIixbMCwwLDY4LDFdXSxbMCwzLCJtIl0sWzEsNCwibiJdLFswLDEsImciXSxbMiwzLCJoIl0sWzMsNCwiaiJdLFs1LDAsInUiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbNSwxLCJnIFxcY2lyYyBiIiwwLHsiY3VydmUiOi0zfV0sWzUsMiwiYSIsMCx7ImN1cnZlIjozfV0sWzUsMCwiYiIsMCx7ImN1cnZlIjotM31dLFs2LDIsImwiLDAseyJjb2xvdXIiOlswLDAsNjhdfSxbMCwwLDY4LDFdXSxbNiwwLCJmIiwwLHsiY29sb3VyIjpbMCwwLDY4XX0sWzAsMCw2OCwxXV1d
          \[\begin{tikzcd}
            A \\
            \\
            && \textcolor{rgb,255:red,173;green,173;blue,173}{L} && M && N \\
            \\
            && X && Y && Z
            \arrow["u", dashed, from=1-1, to=3-5]
            \arrow["b", curve={height=-18pt}, from=1-1, to=3-5]
            \arrow["{g \circ b}", curve={height=-18pt}, from=1-1, to=3-7]
            \arrow["a", curve={height=18pt}, from=1-1, to=5-3]
            \arrow["f", color={rgb,255:red,173;green,173;blue,173}, from=3-3, to=3-5]
            \arrow["l", color={rgb,255:red,173;green,173;blue,173}, from=3-3, to=5-3]
            \arrow["g", from=3-5, to=3-7]
            \arrow["m", from=3-5, to=5-5]
            \arrow["n", from=3-7, to=5-7]
            \arrow["h", from=5-3, to=5-5]
            \arrow["j", from=5-5, to=5-7]
          \end{tikzcd}\]
          However, if we replace $u$ with $b$, we have $g \circ b = g \circ b$ and
          $h \circ a = m \circ b$, that means $b$ can do $u$'s job, but we know
          $u$ is unique, so $b = u$.
          Now consider the outer pullback, we have a unique $v : A \rightarrow L$
          such that the diagram commutes:
          % https://q.uiver.app/#q=WzAsNyxbNCwyLCJNIl0sWzYsMiwiTiJdLFsyLDQsIlgiXSxbNCw0LCJZIl0sWzYsNCwiWiJdLFswLDAsIkEiXSxbMiwyLCJMIl0sWzAsMywibSJdLFsxLDQsIm4iXSxbMCwxLCJnIl0sWzIsMywiaCJdLFszLDQsImoiXSxbNSwwLCJ1ID0gYiIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFs1LDEsImcgXFxjaXJjIGIiLDAseyJjdXJ2ZSI6LTN9XSxbNSwyLCJhIiwwLHsiY3VydmUiOjN9XSxbNiwyLCJsIl0sWzYsMCwiZiJdLFs1LDYsInYiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=
          \[\begin{tikzcd}
            A \\
            \\
            && L && M && N \\
            \\
            && X && Y && Z
            \arrow["v", dashed, from=1-1, to=3-3]
            \arrow["{u = b}", dashed, from=1-1, to=3-5]
            \arrow["{g \circ b}", curve={height=-18pt}, from=1-1, to=3-7]
            \arrow["a", curve={height=18pt}, from=1-1, to=5-3]
            \arrow["f", from=3-3, to=3-5]
            \arrow["l", from=3-3, to=5-3]
            \arrow["g", from=3-5, to=3-7]
            \arrow["m", from=3-5, to=5-5]
            \arrow["n", from=3-7, to=5-7]
            \arrow["h", from=5-3, to=5-5]
            \arrow["j", from=5-5, to=5-7]
          \end{tikzcd}\]
          That is, $l \circ v = a$ and $g \circ f \circ v = g \circ b$,
          we claim that $v$ is the unique factorization from $(A, a, u = b)$ to
          $(L, l, f)$. It is obvious that $l \circ v = a$, we need to show
          $f \circ v = u = b$. We may use the trick we just used, 
          we can see that $g \circ f \circ v = g \circ u$ and 
          $m \circ f \circ v = h \circ l \circ v = h \circ a$.
          So $f \circ v$ can do $b$'s job, so $f \circ v = b$.

          For any arrow $w : A \rightarrow L$ such that $l \circ a = w$
          and $f \circ w = b$, then we have also $g \circ f \circ w = g \circ b$,
          which implies $w$ is the unique arrow from $A \rightarrow L$ such that
          the outer diagram commutes, so $w = v$.
  \end{enumerate}
\end{proof}

\begin{theorem}
  A pullback square for the corner $D_1 \rightarrow V \leftarrow D_2$
  is a product of $D_1 \rightarrow V$ and $V \leftarrow D_2$
  in the slice category $\mathcal{C}/V$.
\end{theorem}
\begin{proof}
  Suppose $(L, f, g)$ is the pullback of such corner, then we first
  need to show that there is an arrow $l : L \rightarrow V$ such that
  $s \circ f = l$ (therefore a morphism from $(L, l)$ to $(D_1, s)$) and
  $t \circ g = l$ (a morphism from $(L, l)$ to $(D_2, t)$).

  Since $(L, f, g)$ makes the pullback square commutes, we know $s \circ f = t \circ g$,
  therefore we let $l = s \circ f$ (or equivalently $t \circ g$).

  We need to show that $((L, l), f, g)$ forms a product of $(D_1, s)$ and $(D_2, t)$,
  consider any $((A, a), b, c)$ where $a : A \rightarrow V$ such that
  $s \circ b = a$ and $t \circ c = a$. Just like $l$ for $L$,
  $a$ is redundant, so we may omit it. Now, the diagram looks like:
  % https://q.uiver.app/#q=WzAsNSxbNCw0LCJWIl0sWzIsNCwiRF8xIl0sWzQsMiwiRF8yIl0sWzIsMiwiTCJdLFswLDAsIkEiXSxbMSwwLCJzIl0sWzIsMCwidCJdLFszLDEsImYiLDJdLFszLDIsImciXSxbNCwxLCJiIiwyLHsiY3VydmUiOjN9XSxbNCwyLCJjIiwwLHsiY3VydmUiOi0zfV0sWzQsMywiIXUiLDEseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMywwLCJsIiwxLHsiY29sb3VyIjpbMCwwLDY0XX0sWzAsMCw2NCwxXV0sWzQsMCwiYSIsMCx7ImN1cnZlIjotMywiY29sb3VyIjpbMCwwLDY0XX0sWzAsMCw2NCwxXV1d
  \[\begin{tikzcd}
    A \\
    \\
    && L && {D_2} \\
    \\
    && {D_1} && V
    \arrow["{!u}"{description}, dashed, from=1-1, to=3-3]
    \arrow["c", curve={height=-18pt}, from=1-1, to=3-5]
    \arrow["b"', curve={height=18pt}, from=1-1, to=5-3]
    \arrow["a", color={rgb,255:red,163;green,163;blue,163}, curve={height=-18pt}, from=1-1, to=5-5]
    \arrow["g", from=3-3, to=3-5]
    \arrow["f"', from=3-3, to=5-3]
    \arrow["l"{description}, color={rgb,255:red,163;green,163;blue,163}, from=3-3, to=5-5]
    \arrow["t", from=3-5, to=5-5]
    \arrow["s", from=5-3, to=5-5]
  \end{tikzcd}\]

  Since $(L, f, g)$ is a pullback, we know there is a unique $u : A \rightarrow L$
  such that two triangle commutes. However, we must first show that $u$ is
  an arrow from $(A, a)$ to $(L, l)$, that is, $l \circ u = a$.
  It is easy to see that $l \circ u = s \circ f \circ u = s \circ b = a$.
\end{proof}

\begin{theorem}
  if a category has all binary products and all equalizers for every pair of parallel
  arrows, then it has a pullback for any corners.
\end{theorem}
\begin{proof}
  Suppose $X \rightarrow Z \leftarrow Y$ a corner, then consider the product $X \times Y$:
  % https://q.uiver.app/#q=WzAsNCxbMCwwLCJYIFxcdGltZXMgWSJdLFswLDIsIlgiXSxbMiwwLCJZIl0sWzIsMiwiWiIsWzAsMCw2NCwxXV0sWzAsMSwiXFxwaV8wIiwyXSxbMCwyLCJcXHBpXzEiXSxbMSwzLCJzIiwwLHsiY29sb3VyIjpbMCwwLDY0XX0sWzAsMCw2NCwxXV0sWzIsMywidCIsMix7ImNvbG91ciI6WzAsMCw2NF19LFswLDAsNjQsMV1dXQ==
  \[\begin{tikzcd}
    {X \times Y} && Y \\
    \\
    X && \textcolor{rgb,255:red,163;green,163;blue,163}{Z}
    \arrow["{\pi_1}", from=1-1, to=1-3]
    \arrow["{\pi_0}"', from=1-1, to=3-1]
    \arrow["t"', color={rgb,255:red,163;green,163;blue,163}, from=1-3, to=3-3]
    \arrow["s", color={rgb,255:red,163;green,163;blue,163}, from=3-1, to=3-3]
  \end{tikzcd}\]

  Now, consider the equalizer for the parallel arrows $t \circ \pi_1$ and
  $s \circ \pi_0$:
  % https://q.uiver.app/#q=WzAsMyxbMiwwLCJYIFxcdGltZXMgWSJdLFs0LDAsIloiXSxbMCwwLCJFIl0sWzAsMSwidCBcXGNpcmMgXFxwaV8xIiwyLHsib2Zmc2V0IjoxfV0sWzAsMSwicyBcXGNpcmMgXFxwaV8wIiwwLHsib2Zmc2V0IjotMX1dLFsyLDAsImUiXV0=
  \[\begin{tikzcd}
    E && {X \times Y} && Z
    \arrow["e", from=1-1, to=1-3]
    \arrow["{t \circ \pi_1}"', shift right, from=1-3, to=1-5]
    \arrow["{s \circ \pi_0}", shift left, from=1-3, to=1-5]
  \end{tikzcd}\]
  We claim $(E, \pi_0 \circ e, \pi_1 \circ e)$ is a pullback of such corner.
  For any $(F, f, g)$ such that the outer diagram commutes:

  % https://q.uiver.app/#q=WzAsNixbMywzLCJYIFxcdGltZXMgWSIsWzAsMCw2NCwxXV0sWzIsNCwiWCJdLFs0LDIsIlkiXSxbNCw0LCJaIl0sWzIsMiwiRSJdLFswLDAsIkYiXSxbMCwxLCJcXHBpXzAiLDIseyJjb2xvdXIiOlswLDAsNjRdfSxbMCwwLDY0LDFdXSxbMCwyLCJcXHBpXzEiLDAseyJjb2xvdXIiOlswLDAsNjRdfSxbMCwwLDY0LDFdXSxbMSwzLCJzIl0sWzIsMywidCIsMl0sWzQsMiwiXFxwaV8xIFxcY2lyYyBlIl0sWzQsMSwiXFxwaV8wIFxcY2lyYyBlIiwyXSxbNCwwLCJlIiwxLHsiY29sb3VyIjpbMCwwLDY0XSwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fSxbMCwwLDY0LDFdXSxbNSwyLCJiIiwwLHsiY3VydmUiOi0zfV0sWzUsMSwiYSIsMix7ImN1cnZlIjozfV1d
  \[\begin{tikzcd}
    F \\
    \\
    && E && Y \\
    &&& \textcolor{rgb,255:red,163;green,163;blue,163}{X \times Y} \\
    && X && Z
    \arrow["b", curve={height=-18pt}, from=1-1, to=3-5]
    \arrow["a"', curve={height=18pt}, from=1-1, to=5-3]
    \arrow["{\pi_1 \circ e}", from=3-3, to=3-5]
    \arrow["e"{description}, color={rgb,255:red,163;green,163;blue,163}, dashed, from=3-3, to=4-4]
    \arrow["{\pi_0 \circ e}"', from=3-3, to=5-3]
    \arrow["t"', from=3-5, to=5-5]
    \arrow["{\pi_1}", color={rgb,255:red,163;green,163;blue,163}, from=4-4, to=3-5]
    \arrow["{\pi_0}"', color={rgb,255:red,163;green,163;blue,163}, from=4-4, to=5-3]
    \arrow["s", from=5-3, to=5-5]
  \end{tikzcd}\]

  it is easy to see that there is a unique arrow $u : F \rightarrow X \times Y$
  such that $\pi_0 \circ u = a$ and $\pi_1 \circ u = b$ since $X \times Y$
  is a product. Then there is another unique arrow $v : F \rightarrow E$
  such that $e \circ v = u$ since $E$ is a equalizer.
  % https://q.uiver.app/#q=WzAsNixbMywzLCJYIFxcdGltZXMgWSIsWzAsMCw2NCwxXV0sWzIsNCwiWCJdLFs0LDIsIlkiXSxbNCw0LCJaIl0sWzIsMiwiRSJdLFswLDAsIkYiXSxbMCwxLCJcXHBpXzAiLDIseyJjb2xvdXIiOlswLDAsNjRdfSxbMCwwLDY0LDFdXSxbMCwyLCJcXHBpXzEiLDAseyJjb2xvdXIiOlswLDAsNjRdfSxbMCwwLDY0LDFdXSxbMSwzLCJzIl0sWzIsMywidCIsMl0sWzQsMiwiXFxwaV8xIFxcY2lyYyBlIl0sWzQsMSwiXFxwaV8wIFxcY2lyYyBlIiwyXSxbNCwwLCJlIiwxLHsiY29sb3VyIjpbMCwwLDY0XSwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fSxbMCwwLDY0LDFdXSxbNSwyLCJiIiwwLHsiY3VydmUiOi0zfV0sWzUsMSwiYSIsMix7ImN1cnZlIjozfV0sWzUsNCwidiIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFs1LDAsInUiLDEseyJjdXJ2ZSI6LTMsInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dXQ==
  \[\begin{tikzcd}
    F \\
    \\
    && E && Y \\
    &&& \textcolor{rgb,255:red,163;green,163;blue,163}{X \times Y} \\
    && X && Z
    \arrow["v", dashed, from=1-1, to=3-3]
    \arrow["b", curve={height=-18pt}, from=1-1, to=3-5]
    \arrow["u"{description}, curve={height=-18pt}, dashed, from=1-1, to=4-4]
    \arrow["a"', curve={height=18pt}, from=1-1, to=5-3]
    \arrow["{\pi_1 \circ e}", from=3-3, to=3-5]
    \arrow["e"{description}, color={rgb,255:red,163;green,163;blue,163}, dashed, from=3-3, to=4-4]
    \arrow["{\pi_0 \circ e}"', from=3-3, to=5-3]
    \arrow["t"', from=3-5, to=5-5]
    \arrow["{\pi_1}", color={rgb,255:red,163;green,163;blue,163}, from=4-4, to=3-5]
    \arrow["{\pi_0}"', color={rgb,255:red,163;green,163;blue,163}, from=4-4, to=5-3]
    \arrow["s", from=5-3, to=5-5]
  \end{tikzcd}\]

  Obviously, (commute) $\pi_0 \circ e \circ v = \pi_0 \circ u = a$ and $\pi_1 \circ e \circ v = \pi_1 \circ u = b$.
  (unique) If an arrow $w : F \rightarrow E$ can do the job, then $e \circ w : F \rightarrow X \times Y$
  is another factorization from $F$ to the product $X \times Y$, so $e \circ w = u$,
  but that means $w$ is also a factorization from $F$ to the equalizer $E$, which means $v = w$.

  So $(E, \pi_0 \circ e, \pi_1 \circ e)$ is a pullback of such corner.
\end{proof}

\begin{theorem}
  If a category has a terminal object and has a pullback for every corner,
  then it has all binary product.
\end{theorem}

\begin{theorem}
  If a category has a terminal object and has a pullback for every corner,
  then it has a equalizer for every parallel arrwos.
\end{theorem}
\begin{proof}
  Suppose $s, t : X \rightarrow Y$ are parallel arrows, then the following
  diagram commutes:
  % https://q.uiver.app/#q=WzAsNCxbMiwyLCJZIFxcdGltZXMgWSJdLFs0LDIsIlkiXSxbMiw0LCJZIl0sWzAsMCwiWCJdLFswLDIsIlxccGlfMCIsMl0sWzAsMSwiXFxwaV8xIl0sWzMsMCwiXFxsYW5nbGUgcywgdCBcXHJhbmdsZSIsMSx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFszLDIsInMiLDIseyJjdXJ2ZSI6M31dLFszLDEsInQiLDAseyJjdXJ2ZSI6LTN9XV0=
  \[\begin{tikzcd}
    X \\
    \\
    && {Y \times Y} && Y \\
    \\
    && Y
    \arrow["{\langle s, t \rangle}"{description}, dashed, from=1-1, to=3-3]
    \arrow["t", curve={height=-18pt}, from=1-1, to=3-5]
    \arrow["s"', curve={height=18pt}, from=1-1, to=5-3]
    \arrow["{\pi_1}", from=3-3, to=3-5]
    \arrow["{\pi_0}"', from=3-3, to=5-3]
  \end{tikzcd}\]

  Note that we have $Y \times Y$ since this category has all binary products.
  Then consider this corner:
  % https://q.uiver.app/#q=WzAsMyxbMCwyLCJYIl0sWzIsMiwiWSBcXHRpbWVzIFkiXSxbMiwwLCJZIl0sWzAsMSwiXFxsYW5nbGUgcywgdCBcXHJhbmdsZSJdLFsyLDEsIlxcbGFuZ2xlIDFfWSwgMV9ZXFxyYW5nbGUiLDJdXQ==
  \[\begin{tikzcd}
    && Y \\
    \\
    X && {Y \times Y}
    \arrow["{\langle 1_Y, 1_Y\rangle}"', from=1-3, to=3-3]
    \arrow["{\langle s, t \rangle}", from=3-1, to=3-3]
  \end{tikzcd}\]

  We have an object $E$, $e : E \rightarrow X$ and $f : E \rightarrow Y$
  such that the square commutes:
  % https://q.uiver.app/#q=WzAsNCxbMCwyLCJYIl0sWzIsMiwiWSBcXHRpbWVzIFkiXSxbMiwwLCJZIl0sWzAsMCwiRSJdLFswLDEsIlxcbGFuZ2xlIHMsIHQgXFxyYW5nbGUiXSxbMiwxLCJcXGxhbmdsZSAxX1ksIDFfWVxccmFuZ2xlIiwyXSxbMywwLCJlIiwyXSxbMywyLCJmIl1d
  \[\begin{tikzcd}
    E && Y \\
    \\
    X && {Y \times Y}
    \arrow["f", from=1-1, to=1-3]
    \arrow["e"', from=1-1, to=3-1]
    \arrow["{\langle 1_Y, 1_Y\rangle}"', from=1-3, to=3-3]
    \arrow["{\langle s, t \rangle}", from=3-1, to=3-3]
  \end{tikzcd}\]

  \textit{(Proof comes from textbook until here)}

  We can see that $\pi_0 \circ \braket{s, t} \circ e = s \circ e$
  while $\pi_0 \circ \braket{1_Y, 1_Y} \circ f = 1_Y \circ f = f$,
  therefore $s \circ e = f$,
  similarly $t \circ e = f$, so $s \circ e = t \circ e$.
  We claim $E$ is the equalizer for the parallel arrows $s, t : X \rightarrow Y$.
  For any $(F, e^\prime)$ such that $s \circ e^\prime = t \circ e^\prime$,
  then we have a unique arrow $u : F \rightarrow E$ such that this diagram commutes:
  % https://q.uiver.app/#q=WzAsNSxbMiw0LCJYIl0sWzQsNCwiWSBcXHRpbWVzIFkiXSxbNCwyLCJZIl0sWzIsMiwiRSJdLFswLDAsIkYiXSxbMCwxLCJcXGxhbmdsZSBzLCB0IFxccmFuZ2xlIl0sWzIsMSwiXFxsYW5nbGUgMV9ZLCAxX1lcXHJhbmdsZSIsMl0sWzMsMCwiZSIsMl0sWzMsMiwiZiJdLFs0LDMsInUiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbNCwwLCJlXlxccHJpbWUiLDIseyJjdXJ2ZSI6M31dLFs0LDIsInMgXFxjaXJjIGVeXFxwcmltZSA9IHQgXFxjaXJjIGVeXFxwcmltZSIsMCx7ImN1cnZlIjotM31dXQ==
  \[\begin{tikzcd}
    F \\
    \\
    && E && Y \\
    \\
    && X && {Y \times Y}
    \arrow["u", dashed, from=1-1, to=3-3]
    \arrow["{s \circ e^\prime = t \circ e^\prime}", curve={height=-18pt}, from=1-1, to=3-5]
    \arrow["{e^\prime}"', curve={height=18pt}, from=1-1, to=5-3]
    \arrow["f", from=3-3, to=3-5]
    \arrow["e"', from=3-3, to=5-3]
    \arrow["{\langle 1_Y, 1_Y\rangle}"', from=3-5, to=5-5]
    \arrow["{\langle s, t \rangle}", from=5-3, to=5-5]
  \end{tikzcd}\]

  where $e \circ u = e^\prime$.
  Suppose $v : F \rightarrow E$ where $e \circ v = e^\prime$,
  then $f \circ v = s \circ e \circ v = s \circ e^\prime$.
\end{proof}

\end{document}